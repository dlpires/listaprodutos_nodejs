<%- include('partials/header.ejs') %>
<%- include('partials/navbar.ejs') %>
<br><br>
<div class="container">
    <div class="row justify-content-md-center">
      <% result.forEach((key, index) => { %>
        <div class="col-md-auto mb-2">
          <div class="card h-100" style="width: 18rem;">
            <img class="card-img-top" src="<%= key.link_imagem %>" alt="Card image cap">
            <div class="card-body">
              <h5 class="card-title"><%= key.produto %></h5>
              <p class="card-text"><%= key.specs != ''? 'Escolha do casal: '.concat(key.specs): null %></p><!--ADDING TEXT THEN HAVE SPECS-->
              <a href="<%= key.link %>" target="_blank" class="btn btn-primary">Ver</a>
              <button data-numero="<%= key.n %>" type="button" class="btn btn-secondary" data-toggle="modal" data-target="#modalComprei">Comprei para o casal!</button>
            </div>
          </div>
        </div><br>
      <% }) %>
    </div><br>

    <nav aria-label="...">
      <ul class="pagination pagination-lg justify-content-center">
        <% if (page > 1) { %>
          <li class="page-item">
            <a class="page-link" href="/<%= parseInt(page)-1 %>">Anterior</a>
          </li>
          <li class="page-item"><a class="page-link" href="/<%= parseInt(page)-1 %>"><%= parseInt(page)-1 %></a></li>
        <% } %>
        <li class="page-item active">
          <span class="page-link">
            <%= page %>
            <span class="sr-only">(current)</span>
          </span>
        </li>
        <% if (page != Math.ceil(total / limit)) { %>
          <li class="page-item"><a class="page-link" href="/<%= parseInt(page)+1 %>"><%= parseInt(page)+1 %></a></li>
          <li class="page-item">
            <a class="page-link" href="/<%= parseInt(page)+1 %>">Próximo</a>
          </li>
        <% } %>
      </ul>
    </nav>
</div>
<!--<table class="table table-striped">
    <thead>
      <tr>
        <th scope="col">Número</th>
        <th scope="col">Produto</th>
        <th scope="col">Valor</th>
        <th scope="col">Especificações</th>
        <th scope="col">Link</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <th scope="row"><%= //element.n %></th>
        <td><%= //element.produto %></td>
        <td><%= //element.valor %></td>
        <td><%= //element.specs %></td>
        <td><%= //element.link %></td>
      </tr>
    -->

<%- include('modals/modals.ejs') %>
<%- include('partials/footer.ejs') %>